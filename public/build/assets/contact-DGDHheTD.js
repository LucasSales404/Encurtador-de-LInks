import{s as t}from"./alert-BE4xWb8l.js";const m=document.querySelector(".button-close"),r=document.querySelector("#contactForm"),c=document.querySelector(".form-content form");m.addEventListener("click",()=>{r.classList.add("hidden")});function l(){r.classList.remove("hidden")}function d(){r.classList.add("hidden")}c.addEventListener("submit",async a=>{if(a.preventDefault(),grecaptcha.getResponse()===""){t("Por favor, confirme que você não é um robô.");return}try{const e=new FormData(c),i=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),s=await fetch("/contact/send",{method:"POST",headers:{Accept:"application/json","X-CSRF-TOKEN":i},body:e});console.log("Response status:",s.status);const n=await s.text();console.log("Response text:",n);const o=JSON.parse(n);if(console.log("Parsed JSON:",o),s.ok)o.success&&(t(o.message),d());else throw t(o.message||"Erro ao enviar o formulário"),new Error(o.message||"Erro ao enviar o formulário")}catch(e){console.error("Erro capturado:",e),e.message&&t(e.message)}});export{l as s};
